⭐ Updated Paragraph — AI Summary

When a user opens a chat with unread messages or long voice notes, automatically trigger an AI summarization request that collects all unread text and transcribes any voice notes longer than a defined threshold (for example >30 seconds), then sends both the transcription and a short auto-generated summary back to the frontend as a compact “AI Summary” card at the top of the chat, so the user can quickly understand what was discussed without scrolling; for group chats, use role-based grouping (“who said what”) and highlight key decisions, action items, shared locations, and frequently used keywords, while storing only embeddings or anonymized chunks for processing, not the full conversation text, to preserve privacy. The summary card should update each time new unread messages appear, and when the user marks them as read, the summary collapses automatically but should remain viewable under a “View Summary History” button so users can revisit older summaries without re-processing the content. Additionally, add a “Summarize Chat” button in a fixed and visually clean corner of the chat UI that never overlaps messages (ideally inside the top-right utility menu or floating bottom-right like a FAB), and only show this button when unread messages exceed a threshold (7 or 10), activating individually for each chat and also individually for 1-to-1 conversations so users can manually trigger summarization without visual disturbance.

⭐ Updated Paragraph — Live Location

When a user shares live location, create a live-session record {session_id, user_id, started_at, expiry_at, live_coordinates[], last_update, movement_speed} and periodically update coordinates every N seconds and append them to a route array so friends can view the live route history until expiry; allow the sender to choose preset expiry durations (15 minutes, 1 hour, or custom) and once expiry time is reached automatically stop updating, remove viewer access, and delete location data from the active tracking collection (only storing anonymized route metrics for optional analytics). Continuously calculate movement speed; if the user unexpectedly stops moving for a prolonged period (configurable timeout) send a “possible danger alert” to selected emergency contacts and display a status badge in the chat like “⚠ Possible stop detected” for awareness. Allow manual stop at any moment and instantly revoke live access for all viewers by marking session as expired and clearing active coordinates, while new sessions always generate a fresh session_id so older location links remain invalid after expiration. Also, place the “Share Live Location” action inside the attachments menu (paper-clip icon area) so users open location sharing through the same attachment flow as images, files, and audio, making it consistent and discoverable inside the attachment modal for both private and group chats.